(()=>{console.log("LLM Agent: Content script loaded");let e={url:window.location.href,title:document.title,content:"",timestamp:Date.now()};const t=()=>{const e=(document.body.innerText||document.body.textContent||"").replace(/\s+/g," ").trim();return{url:window.location.href,title:document.title,content:e,timestamp:Date.now()}};chrome.runtime.onMessage.addListener(((e,n,o)=>{if("GET_PAGE_CONTENT"===e.type)o(t());else if("ADD_CURRENT_PAGE"===e.type){i=t(),chrome.runtime.sendMessage({type:"PAGE_DATA",data:i}),o({success:!0})}var i})),window.addEventListener("DOMContentLoaded",(()=>{console.log("LLM Agent: Page loaded, ready to extract content"),e=t()}));let n=window.location.href;setInterval((()=>{n!==window.location.href&&(console.log("LLM Agent: Navigation detected"),n=window.location.href,e=t())}),1e3)})();